{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/Pagination.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","console","log","this","props","data","title","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","vote_average","type","onClick","setState","React","Component","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handleClick","value","event","getClassLink","Pagination","totalPages","page","changePageToPrevious","changePageToNext","bind","App","getMovies","fetch","then","response","json","movies","results","total_pages","movie","id","updateMovies","filter","item","updateMoviesWillWatch","moviesWillWatch","push","previousPage","nextPage","prevProps","prevState","window","scrollTo","map","key","length","ReactDOM","render","document","getElementById"],"mappings":"kNAyEeA,E,4MAtEbC,MAAQ,CACNC,WAAW,G,qEAIbC,QAAQC,IAAI,UAAWC,KAAKC,MAAMC,KAAKC,S,+BAG7B,IAAD,SAMHH,KAAKC,MAJPC,EAFK,EAELA,KACAE,EAHK,EAGLA,YACAC,EAJK,EAILA,oBACAC,EALK,EAKLA,yBAGF,OACE,yBAAKC,UAAU,QACb,yBACEA,UAAU,eACVC,IAAG,yCAAoCN,EAAKO,eAC1CP,EAAKQ,aACPC,IAAI,KAEN,yBAAKJ,UAAU,aACb,wBAAIA,UAAU,cAAcL,EAAKC,OACjC,yBAAKI,UAAU,qDACb,uBAAGA,UAAU,QAAb,WAA6BL,EAAKU,cACjCZ,KAAKJ,MAAMC,UACV,4BACEgB,KAAK,SACLN,UAAU,kBACVO,QAAS,WACP,EAAKC,SAAS,CACZlB,WAAW,IAEbS,EAAyBJ,KAP7B,cAaE,4BACEW,KAAK,SACLN,UAAU,oBACVO,QAAS,WACP,EAAKC,SAAS,CACZlB,WAAW,IAEbQ,EAAoBH,KAPxB,eAcN,4BACEW,KAAK,SACLC,QAAS,WACPV,EAAYF,KAHhB,gB,GAzDcc,IAAMC,WC2DfC,E,wLA1DaC,EAAWC,GACnCtB,QAAQC,IAAI,8BACZD,QAAQC,IAAI,oBAAqBoB,EAAUE,SAC3CvB,QAAQC,IAAI,oBAAqBC,KAAKC,MAAMoB,W,4CAGxBF,EAAWC,GAC/B,OAAID,EAAUE,UAAYrB,KAAKC,MAAMoB,U,+BAO7B,IAAD,EAC2BrB,KAAKC,MAA/BoB,EADD,EACCA,QAASC,EADV,EACUA,aAEXC,EAAc,SAAAC,GAClB,OAAO,SAAAC,GACLH,EAAaE,KAIXE,EAAe,SAAAF,GACnB,MAAM,YAAN,OAAmBH,IAAYG,EAAQ,SAAW,KAKpD,OAFA1B,QAAQC,IAAI,oBAGV,wBAAIQ,UAAU,sBACZ,wBAAIA,UAAU,YACZ,yBAAKA,UAAWmB,EAAa,mBAC3BZ,QAASS,EAAY,oBADvB,oBAMF,wBAAIhB,UAAU,YACZ,yBAAKA,UAAWmB,EAAa,gBAC3BZ,QAASS,EAAY,iBADvB,iBAMF,wBAAIhB,UAAU,YACZ,yBAAKA,UAAWmB,EAAa,qBAC3BZ,QAASS,EAAY,sBADvB,2B,GA/CcP,IAAMC,WC+BfU,E,uKA7BD,IAAD,EACgE3B,KAAKC,MAAlE2B,EADH,EACGA,WAAYC,EADf,EACeA,KAAMC,EADrB,EACqBA,qBAAsBC,EAD3C,EAC2CA,iBAChD,OACI,yBAAKxB,UAAU,iCACX,wBAAIA,UAAU,sBACV,wBAAIA,UAAU,YACV,4BAAQA,UAAU,kBACdO,QAASgB,EAAqBE,QADlC,aAKJ,wBAAIzB,UAAU,YAAd,iBACmBsB,GAEnB,wBAAItB,UAAU,YACV,4BAAQA,UAAU,kBACdO,QAASiB,EAAiBC,QAD9B,SAKJ,wBAAIzB,UAAU,YAAd,gBACkBqB,S,GAtBbZ,IAAMC,WC4JhBgB,E,kDAnJb,aAAe,IAAD,8BACZ,gBA8BFC,UAAY,WACVC,MAAM,GAAD,OC5Cc,+BD4Cd,mCC1CgB,mCD0ChB,oBAA2D,EAAKvC,MAAMyB,QAAtE,iBAAsF,EAAKzB,MAAMiC,OAAQO,MAAK,SAACC,GAElH,OAAOA,EAASC,UACfF,MAAK,SAAClC,GAEP,EAAKa,SAAS,CACZwB,OAAQrC,EAAKsC,QACbC,YAAavC,EAAKuC,kBAvCV,EA4CdrC,YAAc,SAAAsC,GACZ5C,QAAQC,IAAI2C,EAAMC,IAClB,IAAMC,EAAe,EAAKhD,MAAM2C,OAAOM,QAAO,SAAAC,GAAI,OAAIA,EAAKH,KAAOD,EAAMC,MACxE7C,QAAQC,IAAI6C,GAGZ,EAAK7B,SAAS,CACZwB,OAAQK,KAnDE,EAuDdvC,oBAAsB,SAAAqC,GACpB,IAAMK,EAAqB,YAAO,EAAKnD,MAAMoD,iBAC7CD,EAAsBE,KAAKP,GAE3B,EAAK3B,SAAS,CACZiC,gBAAiBD,KA5DP,EAgEdzC,yBAA2B,SAAAoC,GACzB,IAAMK,EAAwB,EAAKnD,MAAMoD,gBAAgBH,QACvD,SAAAC,GAAI,OAAIA,EAAKH,KAAOD,EAAMC,MAG5B,EAAK5B,SAAS,CACZiC,gBAAiBD,KAtEP,EA0EdzB,aAAe,SAAAE,GACb,EAAKT,SAAS,CACZM,QAASG,KA5EC,EAgFdM,qBAAuB,WACrB,GAAwB,IAApB,EAAKlC,MAAMiC,KAAY,CACzB,IAAMqB,EAAe,EAAKtD,MAAMiC,KAAO,EACvC,EAAKd,SAAS,CAAEc,KAAMqB,MAnFZ,EAuFdnB,iBAAmB,WACjB,GAAwB,MAApB,EAAKnC,MAAMiC,KAAc,CAC3B,IAAMsB,EAAW,EAAKvD,MAAMiC,KAAO,EACnC,EAAKd,SAAS,CAAEc,KAAMsB,MAvFxB,EAAKvD,MAAQ,CACX2C,OAAQ,GACRS,gBAAiB,GACjB3B,QAAS,eACToB,YAAa,GACbZ,KAAM,GAER/B,QAAQC,IAAI,eAVA,E,gEAcZD,QAAQC,IAAI,gBACZC,KAAKkC,c,yCAIYkB,EAAWC,GAC5BvD,QAAQC,IAAI,iBAIRsD,EAAUhC,UAAYrB,KAAKJ,MAAMyB,SAAYgC,EAAUxB,OAAS7B,KAAKJ,MAAMiC,OAC7E/B,QAAQC,IAAI,gBACZC,KAAKkC,YACLoB,OAAOC,SAAS,EAAG,M,+BAmEb,IAAD,OAEP,OADAzD,QAAQC,IAAI,aAAcC,KAAKJ,MAAMyB,SAEnC,yBAAKd,UAAU,aACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,SACb,yBAAKA,UAAU,YACb,yBAAKA,UAAU,cACb,kBAAC,EAAD,CACEc,QAASrB,KAAKJ,MAAMyB,QACpBC,aAActB,KAAKsB,iBAIzB,yBAAKf,UAAU,OACZP,KAAKJ,MAAM2C,OAAOiB,KAAI,SAAAd,GACrB,OACE,yBAAKnC,UAAU,aAAakD,IAAKf,EAAMC,IACrC,kBAAC,EAAD,CACEzC,KAAMwC,EACNtC,YAAa,EAAKA,YAClBC,oBAAqB,EAAKA,oBAC1BC,yBAA0B,EAAKA,gCAMzC,yBAAKC,UAAU,iBACb,yBAAKA,UAAU,UACb,kBAAC,EAAD,CAAYqB,WAAY5B,KAAKJ,MAAM6C,YAAaX,qBAAsB9B,KAAK8B,qBAAsBD,KAAM7B,KAAKJ,MAAMiC,KAAME,iBAAkB/B,KAAK+B,sBAIrJ,yBAAKxB,UAAU,kBACb,2CAAiBP,KAAKJ,MAAMoD,gBAAgBU,OAA5C,WACA,wBAAInD,UAAU,cACXP,KAAKJ,MAAMoD,gBAAgBQ,KAAI,SAAAd,GAAK,OACnC,wBAAIe,IAAKf,EAAMC,GAAIpC,UAAU,mBAC3B,yBAAKA,UAAU,kCACb,2BAAImC,EAAMvC,OACV,2BAAIuC,EAAM9B,2B,GAxIZI,IAAMC,W,YELxB0C,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.5a9ac4b0.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n  state = {\n    willWatch: false\n  };\n\ncomponentWillUnmount() {\n  console.log(\"unMount\", this.props.data.title)\n}\n\n  render() {\n    const {\n      data,\n      deleteMovie,\n      addMovieToWillWatch,\n      deleteMovieFromWillWatch\n    } = this.props;\n    // props.data = {};\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\n            data.poster_path}`}\n          alt=\"\"\n        />\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{data.title}</h6>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\n            {this.state.willWatch ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={() => {\n                  this.setState({\n                    willWatch: false\n                  });\n                  deleteMovieFromWillWatch(data);\n                }}\n              >\n                Will Watch\n              </button>\n            ) : (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary\"\n                  onClick={() => {\n                    this.setState({\n                      willWatch: true\n                    });\n                    addMovieToWillWatch(data);\n                  }}\n                >\n                  Will Watch\n              </button>\n              )}\n          </div>\n          <button\n            type=\"button\"\n            onClick={() => {\n              deleteMovie(data);\n            }}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieItem;\n","import React, { Component } from \"react\";\r\n\r\nclass MovieTabs extends React.Component {\r\n  componentWillReceiveProps(nextProps, nextState) {\r\n    console.log(\"MovieTabs WillReceiveProps\");\r\n    console.log(\"nextProps sort_by\", nextProps.sort_by);\r\n    console.log(\"prevProps sort_by\", this.props.sort_by);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    if (nextProps.sort_by !== this.props.sort_by) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { sort_by, updateSortBy } = this.props;\r\n\r\n    const handleClick = value => {\r\n      return event => {\r\n        updateSortBy(value);\r\n      };\r\n    };\r\n\r\n    const getClassLink = value => {\r\n      return `nav-link ${sort_by === value ? \"active\" : \"\"}`\r\n    }\r\n\r\n    console.log(\"MovieTabs render\")\r\n\r\n    return (\r\n      <ul className=\"tabs nav nav-pills\">\r\n        <li className=\"nav-item\">\r\n          <div className={getClassLink(\"popularity.desc\")}\r\n            onClick={handleClick(\"popularity.desc\")}\r\n          >\r\n            Popularity desc\r\n      </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div className={getClassLink(\"revenue.desc\")}\r\n            onClick={handleClick(\"revenue.desc\")}\r\n          >\r\n            Revenue desc\r\n      </div>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n          <div className={getClassLink(\"vote_average.desc\")}\r\n            onClick={handleClick(\"vote_average.desc\")}\r\n          >\r\n            Vote average desc\r\n      </div>\r\n        </li>\r\n      </ul>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default MovieTabs;","import React from \"react\";\n\n\nclass Pagination extends React.Component {\n    render() {\n        const { totalPages, page, changePageToPrevious, changePageToNext } = this.props;\n        return (\n            <div className=\"d-flex justify-content-center\">\n                <ul className=\"tabs nav nav-pills\">\n                    <li className=\"nav-item\">\n                        <button className=\"btn btn-primary\"\n                            onClick={changePageToPrevious.bind()}>\n                            Previous\n                        </button>\n                    </li>\n                    <li className=\"nav-item\">\n                        Current page: {page}\n                    </li>\n                    <li className=\"nav-item\">\n                        <button className=\"btn btn-primary\"\n                            onClick={changePageToNext.bind()}>\n                            Next\n                        </button>\n                    </li>\n                    <li className=\"nav-item\">\n                        Total pages: {totalPages}\n                    </li>\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default Pagination;","import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport { API_URL, API_KEY_3 } from '../utils/api'\nimport MovieTabs from './MovieTabs'\nimport Pagination from './Pagination'\n\n// UI = fn(state, props)\n\n// App = new React.Component()\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: \"revenue.desc\",\n      total_pages: \"\",\n      page: 1\n    };\n    console.log(\"constructor\");\n  }\n\n  componentDidMount() {\n    console.log(\"App didMount\");\n    this.getMovies();\n    // console.log(\"after fetch\");\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log(\"App didUpdate\");\n    // console.log(\"prev\", prevProps, prevState);\n    // console.log(\"this\", this.props, this.state);\n\n    if (prevState.sort_by !== this.state.sort_by || (prevState.page !== this.state.page)) {\n      console.log(\"App call api\");\n      this.getMovies();\n      window.scrollTo(0, 0);\n    }\n  }\n\n  getMovies = () => {\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`).then((response) => {\n      // console.log(\"then\")\n      return response.json()\n    }).then((data) => {\n      // console.log(\"data\", data);\n      this.setState({\n        movies: data.results,\n        total_pages: data.total_pages\n      })\n    })\n  }\n\n  deleteMovie = movie => {\n    console.log(movie.id);\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n    console.log(updateMovies);\n\n    // this.state.movies = updateMovies;\n    this.setState({\n      movies: updateMovies\n    });\n  };\n\n  addMovieToWillWatch = movie => {\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n    updateMoviesWillWatch.push(movie);\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  deleteMovieFromWillWatch = movie => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\n      item => item.id !== movie.id\n    );\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  updateSortBy = value => {\n    this.setState({\n      sort_by: value\n    })\n  };\n\n  changePageToPrevious = () => {\n    if (this.state.page !== 1) {\n      const previousPage = this.state.page - 1;\n      this.setState({ page: previousPage });\n    }\n  };\n\n  changePageToNext = () => {\n    if (this.state.page !== 500) {\n      const nextPage = this.state.page + 1;\n      this.setState({ page: nextPage });\n    }\n  };\n\n  render() {\n    console.log(\"App render\", this.state.sort_by);\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12 tab\">\n                <MovieTabs\n                  sort_by={this.state.sort_by}\n                  updateSortBy={this.updateSortBy}\n                />\n              </div>\n            </div>\n            <div className=\"row\">\n              {this.state.movies.map(movie => {\n                return (\n                  <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      data={movie}\n                      deleteMovie={this.deleteMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n            <div className=\"row mb-4 mt-4\">\n              <div className=\"col-12\">\n                <Pagination totalPages={this.state.total_pages} changePageToPrevious={this.changePageToPrevious} page={this.state.page} changePageToNext={this.changePageToNext} />\n              </div>\n            </div>\n          </div>\n          <div className=\"col-3 fix-list\">\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n            <ul className=\"list-group\">\n              {this.state.moviesWillWatch.map(movie => (\n                <li key={movie.id} className=\"list-group-item\">\n                  <div className=\"d-flex justify-content-between\">\n                    <p>{movie.title}</p>\n                    <p>{movie.vote_average}</p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}